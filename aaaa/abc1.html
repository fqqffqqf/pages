<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <meta content="no-cache, no-store, must-revalidate" http-equiv="Cache-Control">
    <meta content="no-cache" http-equiv="Pragma">
    <meta content="0" http-equiv="Expires">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">


</head>
<body>


<script>

    function scr(url) {
        //script.src = `js/gzby_jd.js?timestamp=${timestamp}`;
        const timestamp = new Date().getTime();
        const script = document.createElement('script');
        script.type = 'text/javascript';
        script.src = `${url}?timestamp=${timestamp}`;
        console.log(script.src)
        document.head.appendChild(script);
    }

    scr("js/gzby_jd.js");
    scr("js/ty.js");
</script>


<style>

    #edi{

       


        overflow-y: auto;
     
        height: 100%;
        overflow: auto;



    }






    #image-gallery{

       

        
        display: flex;
        flex-wrap: wrap;
        justify-content: start;
        align-items: flex-start;
        gap: 20px;
        padding: 20px;



    }


    .message {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        padding: 20px;
        background-color: #4CAF50;
        color: white;
        border-radius: 5px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        display: none;
    }

    ul {
        list-style-type: none; /* å»é™¤é»˜è®¤çš„é¡¹ç›®ç¬¦å· */
        padding: 0; /* å»é™¤é»˜è®¤çš„å†…è¾¹è· */
        margin: 0; /* å»é™¤é»˜è®¤çš„å¤–è¾¹è· */
    }

    li {
        padding: 10px; /* å†…è¾¹è·ï¼Œå¢åŠ å…ƒç´ å†…éƒ¨çš„ç©ºé—´ */
        background-color: #f8f9fa; /* èƒŒæ™¯é¢œè‰² */
        border-bottom: 1px solid #dee2e6; /* åº•éƒ¨è¾¹æ¡†ï¼Œå¢åŠ åˆ†éš”æ•ˆæœ */
        font-size: 16px; /* å­—ä½“å¤§å° */
        color: #343a40; /* å­—ä½“é¢œè‰² */

    }

    li:hover {
        background-color: #e9ecef; /* é¼ æ ‡æ‚¬åœæ—¶çš„èƒŒæ™¯é¢œè‰²å˜åŒ–ï¼Œæä¾›äº¤äº’åé¦ˆ */
        cursor: pointer; /* é¼ æ ‡æ‚¬åœæ—¶å˜ä¸ºæŒ‡é’ˆå½¢çŠ¶ï¼Œè¡¨ç¤ºå¯ç‚¹å‡» */
    }

    .button-container {
        display: flex;
        flex-wrap: wrap; /* æ¢è¡Œ */
        gap: 6px; /* è®¾ç½®æŒ‰é’®ä¹‹é—´çš„é—´éš”ä¸º 6px */
        width: 100%; /* è®¾ç½®å®½åº¦ä¸º100%ï¼Œå¯æ ¹æ®éœ€è¦è°ƒæ•´ */
        margin: 10px 0; /* è®¾ç½®ä¸Šä¸‹è¾¹è·ä¸º10pxï¼Œå·¦å³è¾¹è·ä¸º0ï¼Œå¯æ ¹æ®éœ€è¦è°ƒæ•´ */
        padding: 0; /* æ¸…é™¤å†…è¾¹è· */
    }

    .button-container1 {
        /* ä½¿ç”¨ flexbox å¸ƒå±€ */
        display: flex;
        /* æ¢è¡Œ*/
        flex-wrap: wrap;
        /* è®¾ç½®æŒ‰é’®ä¹‹é—´çš„é—´éš”ä¸º 20px */
        gap: 2px;
    }

    .button-container2 {
        /* ä½¿ç”¨ flexbox å¸ƒå±€ */
        display: flex;
        /* æ¢è¡Œ*/
        flex-wrap: wrap;
        /* è®¾ç½®æŒ‰é’®ä¹‹é—´çš„é—´éš”ä¸º 20px */
        gap: 2px;
    }

    button {
        white-space: nowrap;
        padding: 4px 10px;
        background: linear-gradient(to right, #007bff, #6610f2);
        color: white;
        border: none;
        border-radius: 5px;
        transition: all 0.3s ease;
    }

    button:hover {
        opacity: 0.5;
    }

    .edit-popup {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        justify-content: center;
        align-items: center;
    }

    .edit-popup-content {
        background-color: white;
        padding: 10px;
        border-radius: 5px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        max-width: 90%;
        width: 300px;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
    }

    .edit-popup-content input {
        width: 100%;
        margin-bottom: 5px;
        box-sizing: border-box;
    }

    .button-container3 {
        display: flex;
        justify-content: center;
        margin-top: 5px;
        gap: 15px;
    }
</style>
<div>
    <input id="id1" placeholder="çŸ­å·æˆ–æŸ¥è¯¢ç " type="text" value="">
    <input id="id2" placeholder="å·æ®µ:165160140" type="text" value="">
    <input id="id3" type="text" value="">
</div>
</br>
<div class="button-container" id="button-container">
    <button id="dz1" onclick="f(1)">1.é’å²›</button>
    <button id="dz2" onclick="f(2)" style="display: none;">2. ä¸Šå¡˜</button>
    <button id="dz3" onclick="f(3)"> 3.ä½æ´¾ç¦</button>
    <button id="dz4" onclick="f(4)"> 4.ä½æ´¾æ­</button>
    <button id="dz5" onclick="f(5)"> 5.è½¦å…¬åº„</button>
    <button id="dz6" onclick="f(6)"> 6.æœé˜³</button>
    <button id="dz7" onclick="f(7)"> 7.è«å¹²å±±(æ­)</button>
    <button id="dz8" onclick="f(8)">8.åŠ¨ç‰©å›­</button>

    <button id="dz9" onclick="f(9)"> 9.çœ‹ä¸¹K</button>
    <button id="dz10" onclick="f(10)" style="display: none;">10.ä¸Šæµ·</button>
    <button id="dz11" onclick="f(11)" style="display: none;"> 11.å¹¿å·ä½</button>
    <button id="dz12" onclick="f(12)" style="display: none;"> 12.äº¬å¹¿ç™½</button>
    <button id="dz13" onclick="f(13)" style="display: none;"> 13.ä¸Šæµ·(é‚®1)</button>
    <button id="dz14" onclick="f(14)">14. å¹¿å·</button>
    <button id="dz15" onclick="f(15)" style="display: none;"> 15.å¥½å¤§å…´</button>
    <button id="dz16" onclick="f(16)" style="display: none;"> 16.å¥½ä¸°å°</button>
    <button id="dz17" onclick="f(17)" style="display: none;">17.ä¸Šæµ·(å¥½)</button>
    <button id="dz18" onclick="f(18)" style="display: none;">18.é«˜åœ°</button>
    <button id="dz19" onclick="f(19)" style="display: none;">19.çŸ­çŸ­ä¸Šæµ·</button>
    <button id="dz20" onclick="f(20)" style="display: none;">20.ä¸Šæµ·(é‚®2)</button>
    <button id="dz21" onclick="f(21)" style="display: none;">21.ä¸Šæµ·(é‚®3)</button>
    <button id="dz22" onclick="f(22)" style="display: none;">22.ä¸Šæµ·(é‚®4)</button>
    <button id="dz23" onclick="f(23)">23.å¤§å…´</button>
    <button id="dz24" onclick="f(24)">24.å¾·èƒœ</button>
    <button id="dz25" onclick="f(25)" style="display: none;">25.æµ·å®š(å¥½)</button>
    <button id="dz26" onclick="f(26)">26.ç‹é©¬è·¯(æ­)</button>
    <button id="dz27" onclick="f(27)" style="display: none;">27.æµ·å®šé‚®æ”¿(å¥½)</button>
    <button id="dz28" onclick="f(28)" style="display: none;">28.æ­å·è«å¹²å±±(å¥½)</button>
    <button id="dz29" onclick="f(29)" style="display: none;">29.ä¸Šå¡˜(æ­)</button>
    <button id="dz30" onclick="f(30)" style="display: none;">30.å¤§å…´(ç‹¼å¡)</button>
    <button id="dz31" onclick="f(31)" style="display: none;">31.å¤©æ´¥</button>


</div>

<!--d


<button onclick="indxe_02()">å…¶ä»–1</button>
<button onclick="g(6)"> ä¸€é”®ç”Ÿæˆ</button>
-->
<br>
<div class="button-container1" id="button-container1">

    <button onclick="copyToClipboard1(1)"> 1.5-1</button>&nbsp;&nbsp;
    <button onclick="copyToClipboard1(2)"> 0.15æ— é—¨æ§›</button>&nbsp;&nbsp;
    <button onclick="copyToClipboard1(11)" style="display: none;"> çº¢åŒ…3</button>
    <button onclick="copyToClipboard1(3)" style="display: none;"> è¶…çº§çº¢åŒ…</button>&nbsp;&nbsp;

    <!--<button onclick="copyToClipboard1(12)"> çº¢åŒ…5</button>&nbsp;&nbsp;-->

    <button onclick="copyToClipboard1(4)" style="display: none;"> å–œä»å¤©é™</button>&nbsp;&nbsp;
    <button onclick="copyToClipboard1(5)" style="display: none;"> Ué€‰çº¢åŒ…</button>&nbsp;&nbsp;
    <button onclick="copyToClipboard1(6)"> 3ä¸ª0.2çº¢åŒ…</button>&nbsp;&nbsp;
    <button onclick="copyToClipboard1(31)"> å†œåœºçº¢åŒ…</button>&nbsp;&nbsp;
    <button onclick="copyToClipboard1(20)"> ç­¾åˆ°</button>&nbsp;&nbsp;
</div>
<br>

<div class="button-container2">


    <button onclick="dzz()">å°¾å·ç»‘å®š</button>


    

    <button onclick="sx()">åˆ·æ–°</button>
</div>

<div class="message" id="message"></div>

<div id="editPopup" class="edit-popup">
    <div class="edit-popup-content">
        <h3>ä¿®æ”¹å†…å®¹</h3>
        <input type="hidden" id="editId" placeholder="Id">
        <input type="text" id="editName" placeholder="åå­—">
        <input type="text" id="editLianjie" placeholder="éˆæ¥">
        <input type="hidden" id="editFalt" placeholder="è®¾ç½®0-åˆ é™¤">

        <input type="hidden" id="oldId">
        <div class="button-container3">
            <button onclick="saveEdit()">ä¿®æ”¹</button>
            <button onclick="closeEditPopup()">å–æ¶ˆ</button>
        </div>
    </div>
</div>

<div id="edi" class="edit-popup">
    <div class="edit-popup-content" >

        <div id="image-gallery" class="flex flex-wrap gap-4"></div>
        <input type="file" id="image-upload" multiple class="mb-4">
        <button onclick="closeEdit()">å…³é—­</button>
       
    </div>


</div>

</br>
<font color="yellow" size="5"><p id="idpp"></p></font>

<p id="idp"></p>

<p id="k"></p>
</body>


<!---->
<script>


    function dianji() {

        window.location.href = "ts.html"

    }


    function indxe_02() {

        window.location.href = "index02.html"

    }

    function dizhi() {

        window.location.href = "dizhi.html"

    }

    function goudong() {

        window.location.href = "https://y-03.cn/1ftPEd"

    }

    function gengduo() {

        window.location.href = "gengduo.html"

    }


    window.onload = function () {
       dzscq( getJsonDataSync(`/aaaa/FindDzscqServlet`));
        /*fetch(`/aaaa/FindDzscqServlet`)
            .then(response => response.json())
            .then(data => dzscq(data))
            .catch(error => console.error('Error:', error));*/

        fetch(`/aaaa/FindLjServlet`)
            .then(response => response.json())
            .then(data => lj(data))
            .catch(error => console.error('Error:', error));

        if (localStorage.getItem("duanHao")) {
           let str=localStorage.getItem("duanHao");
            document.getElementById("id1").value = str;

            const data = getJsonDataSync(`/aaaa/FindDzBynameServlet?name=${str}`);

            if (Object.keys(data).length) {

                ycc(num);
                let arr = convertString(data[0].lianjie)
                xss(arr[0])

            }

        }
        if (localStorage.getItem("id3")) {


            document.getElementById("id3").value =localStorage.getItem("id3");
        }

    }

    function dzscq(dzscqdata) {
        for (let i = 0; i < dzscqdata.length; i++) {
            //åŠ è¼‰åœ°å€
            deliverAddresses[dzscqdata[i].id] = dzscqdata[i].dz;
            arradd[dzscqdata[i].id] = dzscqdata[i].dm;

            //æ ¹æ®idé…ç½®å€¼é»˜è®¤çŸ­å·
            arrduanhao[dzscqdata[i].id] = (1 + dzscqdata[i].id + "xxxx").slice(0, 4);

            num[dzscqdata[i].id] = "dz" + (dzscqdata[i].id + 1)

            let newbut;
            let falt = document.getElementById("dz" + (dzscqdata[i].id + 1));
            //æ˜¯å¦å­˜åœ¨äº†
            if (falt) {
                newbut = falt;
            } else {
                //ä¸å­˜åœ¨
                //ç²å–æ‰€æœ‰æŒ‰éˆ•
                var children = document.getElementById("button-container").children;
                //æœ€åä¸€ä¸ªæŒ‰é’®
                var oribut = children[children.length - 1]
                newbut = document.createElement('button');


                newbut.addEventListener('click', function () {

                    f(dzscqdata[i].id + 1);
                })
                newbut.id = "dz" + (dzscqdata[i].id + 1);
                oribut.parentNode.insertBefore(newbut, oribut.nextSibling);
            }

              if (dzscqdata[i].yc === "0") {

                newbut.style = "display: none;";
            } else if (dzscqdata[i].yc === "1") {
                newbut.style = "display: inline;";
            }



            newbut.addEventListener('mousedown', function () {
                startLong(this);
            });
            newbut.addEventListener('mouseup', endLong);
            newbut.addEventListener('mouseout', endLong);

            newbut.addEventListener('touchstart', function () {
                startLong(this);
            });
            newbut.addEventListener('touchend', endLong);
            newbut.addEventListener('touchmove', endLong);


            newbut.innerHTML = dzscqdata[i].id + 1 + '.' + dzscqdata[i].name;
            if (dzscqdata[i].sx === "0") {

                newbut.remove();
            }
        }


    }

    function lj(ljdata) {
        if (ljdata) {
            let byid = document.getElementById("button-container1");
            byid.innerHTML = "";
            for (let i = 0; i < ljdata.length; i++) {

                if (parseInt(ljdata[i].id) === 30) {
                    break;
                }
                if (ljdata[i].falt === "1") {

                    newbut = document.createElement('button');
                    newbut.innerHTML = ljdata[i].name;

                    newbut.dataset.id = JSON.stringify(ljdata[i]);

                    newbut.dataset.link = ljdata[i].lianjie;
                    newbut.addEventListener('mousedown', function () {
                        startLongPress(this);
                    });
                    newbut.addEventListener('mouseup', endLongPress);
                    newbut.addEventListener('mouseout', endLongPress);

                    newbut.addEventListener('touchstart', function () {
                        startLongPress(this);
                    });
                    newbut.addEventListener('touchend', endLongPress);
                    newbut.addEventListener('touchmove', endLongPress);

                    newbut.addEventListener('click', function () {
                        copyToClipboardt(this.dataset.link);
                    });


                    byid.appendChild(newbut);
                }

            }
        }
    }


    //åœ°å€æ•°ç»„
    let deliverAddresses = [
        "å±±ä¸œçœé’å²›å¸‚å¸‚å—åŒºå…«å¤§æ¹–è¡—é“å±±ä¸œè·¯38å·ç²¨æ¡‰å±…8å±‚",
        "æµ™æ±Ÿçœæ­å·å¸‚æ‹±å¢…åŒºä¸Šå¡˜è¡—é“æ¹–å·ä¸œè·¯80å·",
        "ç¦å»ºæ³‰å·å¸‚å®‰æºªå¿åŸå¢é•‡è¯¦ç»†åœ°å€ï¼šè¿‡æºªæ˜ç èŒ¶å¶åŸå…±æ´¾ä»“åº“è„¸è„¸è·¯",
        " æ­å·å¸‚æ‹±å¢…åŒºä¸œæ–°è¡—é“é•¿æµœè·¯ä¸æ–°å¤©åœ°è¡—äº¤å‰å£ç»¿åŸæ—¶ä»£æ˜Ÿç«åŸ",
        "åŒ—äº¬å¸‚è¥¿åŸåŒºå±•è§ˆè·¯è¡—é“è½¦å…¬åº„å¤§è¡—åŒ—é‡Œ61å·",

        "åŒ—äº¬å¸‚æœé˜³åŒºå‘¼å®¶æ¥¼è¡—é“äººæ°‘æ—¥æŠ¥ç¤¾è¥¿é—¨",
        "æµ™æ±Ÿçœæ‹±å¢…åŒºå’Œç¦è¡—é“",
        "åŒ—äº¬å¸‚è¥¿åŸåŒºå±•è§ˆè·¯è¡—é“å±•è§ˆè·¯è¡—é“åŠ¨ç‰©å›­ä¸–çºªå¤©ä¹æ‰¹å‘å¸‚åœº",
        "åŒ—äº¬å¸‚ä¸°å°åŒºçœ‹ä¸¹è¡—é“ä¸°è‘†è·¯",
        "ä¸Šæµ·ä¸Šæµ·å¸‚æ¨æµ¦åŒºæ–°æ±Ÿæ¹¾åŸè¡—é“æ”¿å’Œè·¯1200å¼„",

        "å¹¿ä¸œçœå¹¿å·å¸‚ç•ªç¦ºåŒºé’Ÿæ‘é”¦ç»£ç”Ÿæ€å›­",
        "",
        "ä¸Šæµ·å¸‚é—µè¡ŒåŒºè™¹æ¡¥é•‡è™¹ä¸­è·¯336å¼„",
        "å¹¿å·é»„åŸ”åŒºæ–‡å†²è¡—é“é»„åŸ”ä¸œè·¯1082å·é»„åŸ”ä»“T",
        "åŒ—äº¬å¤§å…´åŒºæ¸…æºè¡—é“åº·å’Œåå±…",

        "åŒ—äº¬å¸‚ä¸°å°åŒºæ–°æ‘è¡—é“",
        "ä¸Šæµ·ä¸Šæµ·å¸‚æ¨æµ¦åŒºæ–°æ±Ÿæ¹¾åŸè¡—é“æ”¿å’Œè·¯1200å¼„",
        " åŒ—äº¬å¸‚ä¸°å°åŒºä¸œé«˜åœ°è¡—é“è­¦å¤‡ä¸œè·¯å¯‡é¾„é…’åº—æ— ",
        "ä¸Šæµ·å¸‚é—µè¡ŒåŒºåæ¼•é•‡è®¸æµ¦æ‘å¤åè·¯200å¼„",
        " ä¸Šæµ·å¸‚é—µè¡ŒåŒºä¸ƒå®é•‡æ˜Ÿä¸­è·¯889å¼„",

        "ä¸Šæµ·å¸‚é—µè¡ŒåŒºä¸ƒå®é•‡èˆªä¸œè·¯773å¼„ ",
        "ä¸Šæµ·å¸‚é—µè¡ŒåŒºä¸ƒå®é•‡æ²ªé’å¹³å…¬è·¯541å¼„",
        "åŒ—äº¬å¤§å…´åŒºæ¸…æºè¡—é“",
        "åŒ—äº¬å¸‚è¥¿åŸåŒºå¾·èƒœè¡—é“é»„å¯ºå¤§è¡—14å·",
        "åŒ—äº¬å¸‚æµ·æ·€åŒºå­¦é™¢è·¯30å·å¤©å·¥å¤§å¦",

        "æ­å·å¸‚æ‹±å¢…åŒºä¸œæ–°è¡—é“",
        "åŒ—äº¬åŒ—äº¬å¸‚æµ·æ·€åŒºä¸Šåœ°è¡—é“ ä¸Šåœ°åè¡—1å·é™¢",
        "æµ™æ±Ÿçœæ‹±å¢…åŒºå’Œç¦è¡—é“",
        "æµ™æ±Ÿçœæ­å·å¸‚æ‹±å¢…åŒºä¸Šå¡˜è¡—é“æ¹–å·ä¸œè·¯300 å·",
        "åŒ—äº¬å¸‚å¤§å…´åŒºé»„æ‘é•‡ç‹¼å¡ä¸­ç½®åŒ–å­¦å®¶å›­",

        "åœ°å€:å¤©æ´¥å¸‚å’Œå¹³åŒºåŠä¸šåœºè¡—é“èŠ±å›­è·¯ä¸€å·",
    ];

    //ä¸Šæµ·å¸‚é—µè¡ŒåŒºä¸ƒå®é•‡æ˜Ÿä¸­è·¯889å¼„ åé¢éšä¾¿ç¼–è¾‘  ä¸Šæµ·å¸‚é—µè¡ŒåŒºä¸ƒå®é•‡èˆªä¸œè·¯773å¼„ åé¢éšä¾¿ç¼–è¾‘  ä¸Šæµ·å¸‚é—µè¡ŒåŒºä¸ƒå®é•‡æ²ªé’å¹³å…¬è·¯541å¼„ åé¢éšä¾¿ç¼–è¾‘
    let yuhang = ["å—åŒº", "åŒ—åŒº"];
    let combinedLocations = [
        "ä¾¿åˆ©åº—é—¨å£",
        "è¶…å¸‚é—¨å£",
        "æ°´æœåº—é—¨å£",
        "å’–å•¡åº—é—¨å£",
        "é¢åŒ…åº—é—¨å£",
        "ä¹¦åº—é—¨å£",
        "èŠ±åº—é—¨å£",
        "äº”é‡‘åº—é—¨å£",
        "è¯åº—é—¨å£",
        "æ–‡å…·åº—é—¨å£",
        "çœ¼é•œåº—é—¨å£",
        "å® ç‰©åº—é—¨å£",
        "å¿«é¤åº—é—¨å£",
        "å¹²æ´—åº—é—¨å£",
        "æ¯å©´åº—é—¨å£",
        "å®¶ç”µåº—é—¨å£",
        "è¿åŠ¨ç”¨å“åº—é—¨å£",
        "ç¾å®¹ç¾å‘åº—é—¨å£",
        "å®¶å±…ç”¨å“åº—é—¨å£",
        "ç©å…·åº—é—¨å£",
        "æœè£…å®šåˆ¶åº—é—¨å£",
        "é‹åº—é—¨å£",
        "èŒ¶å¶åº—é—¨å£",
        "ç å®åº—é—¨å£",
        "æ•°ç äº§å“åº—é—¨å£",
        "ç¤¼å“åº—é—¨å£",
        "å†…è¡£åº—é—¨å£",
        "ç«¥è£…åº—é—¨å£",
        "çª—å¸˜åº—é—¨å£",
        "åºŠä¸Šç”¨å“åº—é—¨å£"
    ];
    let ifalt;
    let arradd = [];
    let duanhao = [2988, 2313, 2495, 4650, 9281, 3784, 2318, 8018, 1111, 1111, 2222, 2222, 3333, 4444, 5555, 6668];
    // å¸¸è§çš„å°åŒºä¿®é¥°è¯
    const modifiers = ["é˜³å…‰", "èŠ±å›­", "é”¦ç»£", "æ¸©é¦¨", "å¹¸ç¦", "å’Œè°", "é£å°š", "ç»¿æ´²", "é›…å›­", "ç¿ æ™¯"];
    // å¸¸è§çš„å°åŒºåè¯
    const nouns = ["å°åŒº", "å®¶å›­", "ç¤¾åŒº", "åº­è‹‘", "é‡Œå¼„", "å…¬å¯“"];
    // å¸¸è§çš„ç™¾å®¶å§“
    let surnames = ["èµµ", "é’±", "å­™", "æ", "å‘¨", "å´", "éƒ‘", "ç‹", "å†¯", "é™ˆ", "è¤š", "å«", "è’‹", "æ²ˆ", "éŸ©", "æ¨", "æœ±", "ç§¦", "å°¤", "è®¸", "é©¬"];
    // å¸¸è§çš„åå­—æ±‰å­—
    const givenNames = ["ä¼Ÿ", "èŠ³", "å¨œ", "æ•", "å¼º", "é™", "ç£Š", "æ¶›", "ä¸½", "å", "å‹‡", "æ°", "å†›", "ç²", "è¾‰", "é¹", "ç‡•", "æ˜", "å®‡", "è¶…"]
    //æ­å·å°åŒº
    let hangZhouXiaoQu = ["ä½³åŸŸå°åŒº", "å¸Œæœ›å°åŒº", "ä½³é‡‘èŒ‚å°åŒº"];
    //åŒ—äº¬è¥¿åŸ
    let beiJing = ["ä¸œåŒºæœªæ¥åŸç§‘æŠ€å›­", "è¥¿åŒºå›½é™…è´¢æ™ºå¤§å¦", "åŒ—åŒºæ—ºè§’å›½é™…ä¸­å¿ƒ"];
    //å·æ®µ
    let prefixoptions = ['140', '160', '161'];

    //åå­—åç¼€
    let namehouzhui = ["", "", "", "", "", "", ""];
    //

    let color = ["green", "feba07", "red", 'feab70', 'fasdas', 'abef11', '125847', '5874as', 'aef584', 'ff5632', 'ca8213', '25dda2', '52ae52', '11c258', 'ac25ef', '25ae32', '259645', '542787'];


    let value = '';    //è¾“å…¥æ¡†ç±»å®¹
    let a;			// æ”¶ä»¶äºº
    let b;         //æ‰‹æœºå·
    let c;         //è¯¦ç»†åœ°å€
    let array = [];
    let duanHao = [];
    let prefixOptions = [];
    let nameHuizhui = [];


    //  function gg(){g(4);}


    function f(x) {
        inputData()
        for (var i = 0; i < 25; i++) {
	let aaa="";

            getAddressAndPhone(x);
            if (ifalt === ".") {
                aaa= "";

            } else {

                aaa = i;
            }
            getAddressAndPhone(x);

            //éšæœºåå­—
            a = generateRandomChineseName() + aaa;

            var f = "<font color='" + color[14] + "' size='2'>" + "</br>" + "æ”¶ä»¶äººï¼š" + a + "</br>" + "æ‰‹æœºå·ï¼š" + b.slice(0, 7) + "<strong style='color: red'>" + b.slice(-4) + "</strong>" + "</br>" + "æ‰€åœ¨åœ°åŒº: " + deliverAddresses[x - 1] + "</br>" + "è¯¦ç»†åœ°å€: " + c + "</br>" + "<button onclick=" + "copyToClipboard(" + array.length + ")" + "> å¤åˆ¶åˆ°å‰ªè´´æ¿</button>" + "</br>" + "</font>";


            document.getElementById("idp").innerHTML += f;
            array.push("æ”¶ä»¶äººï¼š" + a + "\næ‰‹æœºå·ï¼š" + b + "\næ‰€åœ¨åœ°åŒº:" + deliverAddresses[x - 1] + "\nè¯¦ç»†åœ°å€: " + c);
        }

    }


    //å¤„ç†æ•°æ®

    function inputData() {

        //æ¸…ç©ºç²˜è´´æ•°ç»„
        array = [];
        //å¤„ç†è¾“å…¥æ•°æ®

        document.getElementById("k").innerHTML = ""

        document.getElementById("idp").innerHTML = "";


        value1 = document.getElementById("id1").value;
        duanHao = replaceValuesInArray(value1, duanhao);

        value2 = document.getElementById("id2").value;
        prefixOptions = processStringAndArray(value2, prefixoptions);

        value3 = document.getElementById("id3").value;
        //nameHouzhui = splitStringToCharArray(value3, namehouzhui);
        let t = value3.split(".")[0];

        if (t === "1") {
            //ab
            surnames = rname[0].concat(rname[1]);
        } else if (t === "2") {
            //cd
            surnames = rname[2].concat(rname[3]);
        } else if (t === "3") {
            //fg
            surnames = rname[5].concat(rname[6]);
        } else if (t === "4") {
            //hj
            surnames = rname[7].concat(rname[9]);
        } else if (t === "5") {
            //kl
            surnames = rname[10].concat(rname[11]);
        } else if (t === "6") {
            //mn
            surnames = rname[12].concat(rname[13]);
        } else if (t === "7") {
            //por
            surnames = rname[15].concat(rname[16], rname[17]);
        } else if (t === "8") {
            //st
            surnames = rname[18].concat(rname[19]);
        } else if (t === "9") {
            //wx
            surnames = rname[22].concat(rname[23]);
        } else if (t === "10") {
            //yz
            surnames = rname[24].concat(rname[25]);
        }

        if (value3.slice(-1) === ".") {

            ifalt = ".";
        }

localStorage.setItem("duanHao", value1);
localStorage.setItem("id3", value3);

        //setCookie("duanHao", value1, 3);
       // setCookie("id3", value3, 2);

    }

    //f
    function setCookieIfNotExists(name, value, days) {
        if (!getCookie(name)) {
            setCookie(name, value, days);

        }
    }


    //è·å–æ‰‹æœºå·è¯¦ç»†åœ°å€
    function getAddressAndPhone(x) {

        //æ ¹æ®çŸ­å·éšæœºç”Ÿæˆæ‰‹æœºå·
        b = generateMobileNumber(duanHao[x - 1], x);

        b = b.slice(0, 7) + b.slice(-4)
        //è¯¦ç»†åœ°å€
        c = getAddress(x);

    }


    //æ ¹æ®ä¸åŒåœ°åŒºè·å–ä¸åŒè¯¦ç»†åœ°å€
    /*åŒ—äº¬:å¸§æ³Šå°åŒº35æ ‹78å•å…ƒ368æˆ¿
    æ­å·:è¥„æ²¿å°åŒº51æ¥¼88å•å…ƒA8825
    ç¦å»º:xxxå•å…ƒxå·*/
    function getAddress(m) {
        var add = "";
        if (arradd[m - 1]) {
            const str = arradd[m - 1];
            const func = new Function(str);
            const result = func();
            add = result;
        } else {
            switch (m) {
                case 1:
                    add = Math.floor(Math.random() * 10 + 1) + "åŒº" + Math.floor(Math.random() * 1000 + 1) + "å·"
                    break;
                case 2:
                    add = generateRandomCommunityName() + Math.floor(Math.random() * 100) + "æ¥¼" + generateRandomString(1) + "æˆ¿"
                    break;
                case 3:
                    add = generateRandomCommunityName() + getFirstAndLastThreeToArray(duanHao[2])[0] + "å•å…ƒ" + getFirstAndLastThreeToArray(duanHao[2])[1] + "å·";
                    break;
                case 4:
                    add = Math.floor(Math.random() * 100 + 71) + "å·æ¥¼" + combinedLocations[Math.floor(Math.random() * combinedLocations.length)];
                    break;
                case 5:
                    add = beiJing[Math.floor(Math.random() * beiJing.length)] + getRandomLetter() + "æ ‹" + Math.floor(Math.random() * 900 + 101) + "å®¤";
                    break;
//æœé˜³
                case 6:

                    add = generateRandomCommunityName() + Math.floor(Math.random() * 100) + "æ¥¼" + Math.floor(Math.random() * 9 + 1) + Math.floor(Math.random() * 9 + 1) + "å•å…ƒ" + "K" + Math.floor(Math.random() * 8990 + 1000);
                    break;
//çŸ³å±±æ”¹è«å¹²å±±
                case 7:
                    add = "è«å¹²å±±è·¯738å·" + mgs[Math.floor(Math.random() * mgs.length)] + Math.floor(Math.random() * 10 + 1) + "å±‚" + Math.floor(Math.random() * 10) + Math.floor(Math.random() * 10) + Math.floor(Math.random() * 10) + String.fromCharCode(Math.floor(Math.random() * (90 - 65 + 1)) + 65)
                    break;
                case 8:
                    add = Math.floor(Math.random() * 100) + "æ’" + Math.floor(Math.random() * 100) + "å·" + combinedLocations[Math.floor(Math.random() * combinedLocations.length)];
                    break;
                case 9:
                    add = Math.floor(Math.random() * 1000 + 1000) + "å·" + generateRandomCommunityName() + Math.floor(Math.random() * 100) + "æ ‹" + Math.floor(Math.random() * 100) + "å•å…ƒ" + Math.floor(Math.random() * 900 + 101) + "å®¤";
                    break;

                case 10:
                    add = generateRandomCommunityName() + Math.floor(Math.random() * 100) + "æ¥¼" + Math.floor(Math.random() * 100) + "å•å…ƒ" + reverseString(generateRandomString(1)) + "æˆ¿"
                    break;
                case 11:


                    add = generateRandomCommunityName() + "è‹‘" + generateRandomString();
                    break;

                case 12:
                    //å¹¿å·äº¬ä¸œ
                    add = addressList[Math.floor(Math.random() * addressList.length)] + Math.floor(Math.random() * 100) + "å•å…ƒ" + reverseString(generateRandomString(1)) + "æˆ¿DD";
                    break;


                case 14:
                    //çŸ­å¹¿å·
                    add = Math.floor(Math.random() * 100 + 11) + "æ ‹" + Math.floor(Math.random() * 33 + 1) + "å±‚" + Math.floor(Math.random() * 999 + 1) + "å·";
                    break;
                case 15:
                    //å¤§å…´
                    add = Math.floor(Math.random() * 21 + 20) + "å·æ¥¼" + Math.floor(Math.random() * 31 + 10) + "å•å…ƒ" + Math.floor(Math.random() * 3000 + 101) + "å®¤";
                    break;
//çºªå®¶åº™
                case 16:
                    add = "çºªå®¶åº™" + Math.floor(Math.random() * 698 + 301) + "å·ç‘ç¦èŠ±å›­" + Math.floor(Math.random() * 100 + 21) + "å·æ¥¼" + Math.floor(Math.random() * 100 + 1) + "å•å…ƒ" + Math.floor(Math.random() * 100 + 1) + "å®¤";
                    break;
//å¥½å­©å­ä¸Šæµ·
                case 17:
                    add = Math.floor(Math.random() * 100) + "å·æ¥¼" + Math.floor(Math.random() * 100) + "å®¤";
                    break;
//ä¸°å°é«˜åœ°
                case 18:
                    add = generateRandomCommunityName() + Math.floor(Math.random() * 100) + "æ¥¼" + Math.floor(Math.random() * 100) + "å•å…ƒ" + reverseString(generateRandomString(1)) + "æˆ¿"
                    break;
//ä¸Šæµ·
                case 19:
                    add = generateRandomCommunityName() + Math.floor(Math.random() * 100) + "æ¥¼" + Math.floor(Math.random() * 100) + "å•å…ƒ" + reverseString(generateRandomString(1)) + "æˆ¿"
                    break;
//å¤§å…´
                case 23:
                    add = "åº·å’Œåå±…" + Math.floor(Math.random() * 21 + 20) + "å·æ¥¼" + Math.floor(Math.random() * 31 + 10) + "å•å…ƒ" + Math.floor(Math.random() * 3000 + 101) + "å®¤";
                    break;
//å¾·èƒœ
                case 24:
                    add = generateRandomCommunityName() + Math.floor(Math.random() * 20 + 1) + "æ ‹" + Math.floor(Math.random() * 20 + 1) + "å•å…ƒ" + Math.floor(Math.random() * 1903 + 101) + "å®¤";
                    break;
//æµ·å®šå¥½
                case 25:
                    add = (Math.random() < 0.5 ? "F" : "G") + generateRandomCommunityName() + Math.floor(Math.random() * 20 + 1) + "æ ‹" + Math.floor(Math.random() * 20 + 1) + "å•å…ƒ" + Math.floor(Math.random() * 1903 + 101) + "å®¤";
                    break;
//æ­ç‹é©¬è·¯
                case 26:
                    add = "ç‹é©¬è·¯35å·" + generateRandomCommunityName() + Math.floor(Math.random() * 100) + "æ¥¼" + Math.floor(Math.random() * 100) + "å•å…ƒ" + "A" + Math.floor(Math.random() * 899 + 100);
                    break;
//å¥½æµ·å®šé‚®æ”¿
                case 27:
                    add = Math.floor(Math.random() * 100 + 11) + "å·æ¥¼" + Math.floor(Math.random() * 33 + 1) + "å±‚" + Math.floor(Math.random() * 999 + 1) + "å·";
                    break;
//å¥½å­©å­æ­
                case 28:
                    add = "è«å¹²å±±è·¯738å·" + mgs[Math.floor(Math.random() * mgs.length)] + "é™¢å†…" + generateRandomCommunityName() + Math.floor(Math.random() * 10 + 1) + "-" + Math.floor(Math.random() * 150 + 150) + "C";
                    break;
//å¤§å…´ç‹¼å¡
                case 30:
                    var a = Math.floor(Math.random() * 18 + 1)
                    add = Math.floor(Math.random() * 15 + 1) + "æ ‹" + Math.floor(Math.random() * 6 + 1) + "å•å…ƒ" + a + "å±‚" + a + "0" + Math.floor(Math.random() * 4 + 1);
                    break;
//å¤©æ´¥
                case 31:
                    add = generateRandomCommunityName() + Math.floor(Math.random() * 10 + 1) + "æ ‹" + Math.floor(Math.random() * 1600 + 100) + "å®¤"
                    break;
                default:
                    add = generateRandomCommunityName() + Math.floor(Math.random() * 100) + "æ¥¼" + Math.floor(Math.random() * 100) + "å•å…ƒ" + reverseString(generateRandomString(1)) + "æˆ¿"
                    break;
            }
        }


        return add;
    }

    //å¤åˆ¶1
    function copyToClipboard(i) {
        var text = array[i];
        console.log(text);
        var dummy = document.createElement("textarea");
        document.body.appendChild(dummy);
        dummy.value = text;
        dummy.select();
        document.execCommand("copy");
        document.body.removeChild(dummy);

        showMessage("å¤åˆ¶æˆåŠŸ,æ ¸å¯¹è¡—é“ å°¾å· åœ°å€åç¼€");

    }

    function getRandomLetter() {
        let characters = 'ABCDEF';
        return characters.charAt(Math.floor(Math.random() * characters.length));
    }


    //å¤åˆ¶2
    function copyToClipboard1(i) {
        var text = "";
        switch (i) {
            case 1:
                text = "ášªáš¶áš¶áš²ášµá™¼á™±á™±áš²áš£áš©áš§ášµá™°áš¶áš¯áš£áš®áš®á™°áš¥áš±áš¯á™±áš¹áš±áš¹á™±áš¼á™±ášªáš¦áš¹áš­á™±á™´á™²á™´á™³áš¶áš¯áš¨áš£áš´áš¯á™±áš¥áš±áš·áš²áš±áš°á™¯áš¤áš·áš»ášáš¡á™¿áš£á™´á™³á™³á™µáš¹á™°á™´á™ºá™¶á™´á™¸á™·á™¹á™¸á™°á™¹á™µá™¸á™³á™¶á™´á™ºá™ºá™»á™²á™°á™³";


                break;
            case 2:
                text = Math.random() < 0.5 ? "á™²á™¦ášœáš»áš¥áš²áš§áš”ášˆáš—ášáš—áš‹á™¦á™¼á™±á™±á™¢ášŠáš—á™¹á™¸á™¹á™»" : "á™µá™¦ášˆá™¸áš³áš´áš§á™ºáš’á™³áš“áš’ášá™¦á™¼á™±á™±á™¢áš…ášƒá™³á™·á™²á™³";
                break;
            case 11:
                text = "á™¶á™¦ášµáš­áš¤áš™á™µášˆáš¸áš¸áš¥áš·áš¦á™¦á™¼á™±á™±á™¢ášášˆá™µá™²á™ºá™¶";
                break;
            case 3:
                text = "á™³á™¦áš¦ášœáš¨áš¶áš§áš­á™ºáš‰áš¯á™»áš±á™¦á™¼á™±á™±á™¢ášŠáš—á™¹á™³á™¹á™¹";
                break;
            case 4:
                text = "á™¹á™»á™¢ášášˆá™³á™¸á™¶á™µá™¢á™¢á™´á™¼á™±áš–áššáš†á™¶á™µáš·ášºá™»ášˆáš¹ášƒã›¦æ‘‹á™´á™ºá™¸á™³á™¹á™ºá™¹á™·æ‘¬é“¤æ¥‡ç—‡ê»ˆæ¨˜á•ç˜­ç¶§á•ƒ";
                break;
            case 20:
                text = "ášªáš¶áš¶áš²ášµá™¼á™±á™±ášµá™°áš¥áš®áš«áš¥áš­á™°áš¶áš£áš±áš¤áš£áš±á™°áš¥áš±áš¯á™±ášášŠášºáš©áš¹áš™áš¶ášáš¦áš«ášµáš£áš¤áš®áš§ášáš£áš¸á™¿áš›áš‡áš•";
                break;
            case 21:
                text = "ášªáš¶áš¶áš²ášµá™¼á™±á™±ášµá™°áš¥áš®áš«áš¥áš­á™°áš¶áš£áš±áš¤áš£áš±á™°áš¥áš±áš¯á™±áššáš’ášáš—á™¸áš—áš¶ášáš¦áš«ášµáš£áš¤áš®áš§ášáš£áš¸á™¿áš›áš‡áš•";
                break;
            case 5:
                text = "á™²á™¹á™¢ášŠáš—á™»á™²á™¶á™¸á™¢á™¢á™´á™¼á™±ã›¶ášŠá™¶áš°áš„á™µáš·ášºáš’áš°áš¹áš“æ‘‹è¡³èšç‡Ÿá™¯áš—ê™‹æ¾¿æ”¹";
                break;
            case 6:
                text = "ášªáš¶áš¶áš²ášµá™¼á™±á™±áš¯áš±á™°áš¯á™°áš¶áš£áš±áš¤áš£áš±á™°áš¥áš±áš¯á™±áš·áš°áš«áš±áš°á™´á™±áš²áš£áš©áš§áš¡á™³á™¸á™»á™²á™´á™·á™¸á™ºá™¹á™¸á™³á™¹á™³";
                break;
            case 12:
                text = "á™µá™¦áš±áš¶ášºáš˜á™µáš¹áš˜áš¸áš¸ášƒáš·á™¦á™¼á™±á™±á™¢ášášˆá™µá™³á™µá™·";
                break;
            case 13:
                text = "á™ºá™¦áš°áš³áš—áš£á™µáš¹áš¹á™ºáš¦áš¸áš˜á™¦á™¼á™±á™±á™¢ášŠáš—á™¹á™³á™¹á™¹";
                break;
            case 31:
                text = "á™ºá˜§á™¢áš…ášœá™²á™²á™²á™³á™¢á™¶á˜§ášˆáš«áš£áš¨á™µá™¹áš—áš”á™³á™³áš»á˜§á™±á™¢áš…ášœá™²á™²";
                break;
            default:
                text = '';
        }
        text = de(text, 5698);
        console.log(text);
        var dummy = document.createElement("textarea");
        document.body.appendChild(dummy);
        dummy.value = text;
        dummy.select();
        document.execCommand("copy");
        document.body.removeChild(dummy);

        showMessage(text);

    }

    //å£ä»¤
    function zhibajian(i) {
        var text = "";
        switch (i) {
            case 1:
                text = "5$4u0a3xWhk38$:// CA1710";

                break;
            case 2:
                text = "0$mBT03xW8ThH$:// CA1710";
                break;
            case 3:
                text = "97Â£xbL63v6KQlfğŸ” https://m.tb.cn/h.TWPTUUw  CA6496 è€³å‹ºå…­ä»¶å¥—é‡‡è€³å·¥å…·ä¸é”ˆé’¢æŒ–è€³å‹ºçš®åŒ…è€³å‹ºæ¸…æ´å™¨å®¶ç”¨è€³å‹ºä¾¿æºå¸¦é»„";
                break;
            case 4:
                text = "37ğŸ—vgPt3v6qvFVÂ£ https://m.tb.cn/h.TWPTqFb  CZ3456 è€³å‹ºå…­ä»¶å¥—é‡‡è€³å·¥å…·ä¸é”ˆé’¢æŒ–è€³å‹ºçš®åŒ…è€³å‹ºæ¸…æ´å™¨å®¶ç”¨è€³å‹ºä¾¿æºå¸¦é»„";
                break;
            case 5:
                text = "27âœ”EPv83v6HDewâ‚´ https://m.tb.cn/h.TWnQygH  HU0854 è€³å‹ºå…­ä»¶å¥—é‡‡è€³å·¥å…·ä¸é”ˆé’¢æŒ–è€³å‹ºçš®åŒ…è€³å‹ºæ¸…æ´å™¨å®¶ç”¨è€³å‹ºä¾¿æºå¸¦é»„";
                break;
            case 6:
                text = "98â‚¤atR53v6qSNnğŸ’² https://m.tb.cn/h.TWC2b0n  MF6563 å¸ç®¡å¥½ç‰©åˆ†äº«æ­£åœ¨å‘1000å…ƒæœ€çˆ±çº¢åŒ…é›¨ï¼Œå¿«æ¥ç‚¹æ·˜APPæŠ¢ï¼";
                break;
            case 7:
                text = "98ã€Š5wtE3v6spJaâ‚´ https://m.tb.cn/h.TWn9y5e  HU9046 è€³å‹ºå…­ä»¶å¥—é‡‡è€³å·¥å…·ä¸é”ˆé’¢æŒ–è€³å‹ºçš®åŒ…è€³å‹ºæ¸…æ´å™¨å®¶ç”¨è€³å‹ºä¾¿æºå¸¦é»„";
                break;
            case 8:
                text = "19â‚´x1sj3v6I2X9âœ” https://m.tb.cn/h.TWPhtzk  CZ0000 è€³å‹ºå…­ä»¶å¥—é‡‡è€³å·¥å…·ä¸é”ˆé’¢æŒ–è€³å‹ºçš®åŒ…è€³å‹ºæ¸…æ´å™¨å®¶ç”¨è€³å‹ºä¾¿æºå¸¦é»„";
                break;
            case 9:
                text = "98â‚¤atR53v6qSNnğŸ’² https://m.tb.cn/h.TWC2b0n  MF6563 å¸ç®¡å¥½ç‰©åˆ†äº«æ­£åœ¨å‘1000å…ƒæœ€çˆ±çº¢åŒ…é›¨ï¼Œå¿«æ¥ç‚¹æ·˜APPæŠ¢ï¼";
                break;
            default:
                text = '';
        }
        console.log(text);
        var dummy = document.createElement("textarea");
        document.body.appendChild(dummy);
        dummy.value = text;
        dummy.select();
        document.execCommand("copy");
        document.body.removeChild(dummy);

        showMessage(text);

    }


    function generateRandomCommunityName() {
        let modifier = modifiers[Math.floor(Math.random() * modifiers.length)];
        let noun = nouns[Math.floor(Math.random() * nouns.length)];
        return modifier + noun;
    }

    //ç”Ÿæˆåå­—

    function generateRandomChineseName() {
        let surname = surnames[Math.floor(Math.random() * surnames.length)];
        let nameLength = Math.random() < 0.3 ? 2 : 3;  // 50% çš„æ¦‚ç‡ç”Ÿæˆ 2 ä¸ªå­—çš„åå­—ï¼Œ50% çš„æ¦‚ç‡ç”Ÿæˆ 3 ä¸ªå­—çš„åå­—

        let givenName = '';
        for (let i = 0; i < nameLength - 1; i++) {
            givenName += givenNames[Math.floor(Math.random() * givenNames.length)];
        }

        return surname + givenName;
    }


    //ç”Ÿæˆæ‰‹æœºå·
    function generateMobileNumber(a, b) {
        a = a + "";
        let prefix = '';
        if (a.length === 4) {
            switch (b) {
                case 1:
                    prefix = prefixOptions[Math.floor(Math.random() * prefixOptions.length)];
                    break;
                case 2:
                    prefix = prefixOptions[Math.floor(Math.random() * prefixOptions.length)];
                    break;
                case 3:
                    prefix = 165;
                    break;
                case 4:
                    prefix = prefixOptions[Math.floor(Math.random() * prefixOptions.length)];
                    break;
                case 5:
                    prefix = prefixOptions[Math.floor(Math.random() * prefixOptions.length)];
                    break;
                case 6:
                    prefix = 140;
                    break;
                case 16:
                    prefix = Math.random() < 0.5 ? 160 : 154;
                    break;
                case 30:
                    prefix = Math.random() < 0.5 ? 160 : 154;
                    break;
                default:
                    prefix = prefixOptions[Math.floor(Math.random() * prefixOptions.length)];
                    ;
            }
            let middle = '';
            for (let i = 0; i < 4; i++) {
                middle += Math.floor(Math.random() * 10);
            }
            let suffix = a;
            return prefix + middle + suffix;
        } else if (a.length === 11) {
            return a;
        }


    }


    //ç¦å»ºæ ¹æ®çŸ­å·è·å–è¯¦ç»†åœ°å€
    function getFirstAndLastThreeToArray(str) {
        str = str + '';
        if (str.length < 4) {
            return "å­—ç¬¦ä¸²é•¿åº¦ä¸è¶³ 4 ä½";
        }
        let firstChar = str.charAt(0);
        let lastThree = str.slice(-3);
        return [firstChar, lastThree];
    }

    //åè½¬å­—ç¬¦ä¸²
    function reverseString(str) {
        return str.split('').reverse().join('');
    }


    function de(encryptedStr, key) {
        let decrypted = '';
        for (let i = 0; i < encryptedStr.length; i++) {
            decrypted += String.fromCharCode(encryptedStr.charCodeAt(i) - key);
        }
        return decrypted;
    }


    //éšæœºç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²  4123a
    function generateRandomString(m) {
        let numPart = '';

        let letterPart = "";
        for (let i = 0; i < 4; i++) {
            numPart += Math.floor(Math.random() * 10);
        }
        switch (m) {
            case 1:
                letterPart = "A";
                break;

            default:
                letterPart = String.fromCharCode(Math.floor(Math.random() * 26) + 65);  // ç”Ÿæˆå°å†™å­—æ¯ a åˆ° z
        }


        return numPart + letterPart;
    }

    function replaceValuesInArray(str, duanhao1) {


        if (/^\d{4}$|^\d{11}$/.test(str)) {

            let copyStr = [];

            for (i = 0; i < arrduanhao.length; i++) {
                copyStr[i] = str;
            }
            return copyStr;
        } else {


            const data = getJsonDataSync(`/aaaa/FindDzBynameServlet?name=${str}`);
            if (Object.keys(data).length) {
                ycc(num);
                let arr = convertString(data[0].lianjie)
                xss(arr[0])
                return arr[1]
            }
            switch (str) {

//return [1111,2222,3333,4444,5555,6666,7777,8888,9999];
//           å…«é‡Œ   æ­å·   ç¦å»º ä½æ­  è½¦å·¥   ä½™æ­   çŸ³å±±  åŠ¨ç‰©  çœ‹è›‹

                case "`12qwe321":
                    xs("g");
                    xs("dz");
                    xss(num);
                    return arrduanhao;
                    break;
//å—¯

                case "1":
                    xs("dz3", "dz4", "dz7", "dz8");
                    yc("dz1", "dz2", "dz5", "dz6", "dz9");

                    return [1111, 2222, 8922, 4726, 5555, 6666, 8126, 6606, 9999];



//å¾®é£


                default:
                    showMessage("è¾“å…¥é”™è¯¯")
                    return;


            }
        }


    }

    function processStringAndArray(str, arr) {
        let copyStr = arr.slice();
        let newArr = [];
        for (let i = 0; i < str.length; i += 3) {
            if (i + 3 <= str.length) {
                newArr.push(str.substring(i, i + 3));
            }
        }
        return newArr.length > 0 ? newArr : copyStr;
    }


    function splitStringToCharArray(str, arr) {
        let newArr = arr.slice();

        for (let i = 0; i < str.length; i++) {
            newArr[i] = str[i];
        }
        return newArr;
    }


    function isFourDigits(str) {
        let digitCount = 0;
        for (let char of str) {
            if (char >= '0' && char <= '9') {
                digitCount++;
            }
        }
        return digitCount === 4;
    }

    function setCookie(name, value, days) {
        let expires = "";
        if (days) {
            let date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = "; expires=" + date.toUTCString();
        }

        document.cookie = name + "=" + (value || "") + expires + "; path=/";
    }

    // è·å–æŒ‡å®šåç§°çš„ Cookie å€¼
    function getCookie(name) {

        let nameEQ = name + "=";
        let ca = document.cookie.split(';');
        for (let i = 0; i < ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) === ' ') {
                c = c.substring(1, c.length);
            }
            if (c.indexOf(nameEQ) === 0) {
                return c.substring(nameEQ.length, c.length);
            }
        }
        return null;
    }

    // åˆ é™¤æŒ‡å®šåç§°çš„ Cookie
    function deleteCookie(name) {
        setCookie(name, "", -1);
    }


    window.addEventListener('popstate', function (event) {

        // æ£€æŸ¥æµè§ˆå™¨å†å²è®°å½•æ˜¯å¦æœ‰å¯è¿”å›çš„é¡µé¢
        if (window.history.length > 1) {
            window.history.back(); // è¿”å›åˆ°ä¸Šä¸€é¡µ

        } else {
            // å¦‚æœæ²¡æœ‰å¯è¿”å›çš„é¡µé¢ï¼Œæ‚¨å¯ä»¥è‡ªå®šä¹‰å¤„ç†ï¼Œæ¯”å¦‚è·³è½¬åˆ°ç‰¹å®šé¡µé¢ï¼ˆå¦‚ a.htmlï¼‰
            window.location.href = "a.html";

        }
    });


    let longPressTimer;

    function startLongPress(button) {
        longPressTimer = setTimeout(() => {
            openEditPopup(button);
        }, 1000);
    }

    function endLongPress() {
        clearTimeout(longPressTimer);
    }

    function openEditPopup(button) {
        let but = JSON.parse(button.dataset.id)
        document.getElementById('editId').value = but.id;
        document.getElementById('oldId').value = but.id;


        document.getElementById('editName').value = but.name;
        document.getElementById('editLianjie').value = but.lianjie;
        document.getElementById('editFalt').value = but.falt;
        document.getElementById('editPopup').style.display = 'flex';
    }

    function closeEditPopup() {
        document.getElementById('editPopup').style.display = 'none';
    }

    function saveEdit() {
        let id = document.getElementById('editId').value;
        let name = document.getElementById('editName').value;
        let lianjie = document.getElementById('editLianjie').value;
        let falt = document.getElementById('editFalt').value;
        let oldId = document.getElementById('oldId').value;

        if (parseInt(oldId) <= 25) {
            showMessage("ç¦æ­¢ä¿®æ”¹");
            closeEditPopup();
            return;
        }

        const params = new URLSearchParams({
            id,
            falt,
            name,
            lianjie,
            oldId
        });
        fetch(`/aaaa/UpdateLjServlet?${params.toString()}`)
            .then(response => response.json())
            .then(data => {
                showMessage(data.message);
                closeEditPopup();
                window.onload();
            })
            .catch(error => showMessage(data.message));
    }









    let longPress;

    function startLong(button) {
        longPress = setTimeout(() => {
            openE(button);
        }, 1000);
    }

    function endLong() {
        clearTimeout(longPress);
    }

    function closeEdit() {
        document.getElementById('edi').style.display = 'none';
    }





    function openE(button) {
    const gallery = document.getElementById('image-gallery');

    // æ¸…ç©ºç°æœ‰å›¾ç‰‡
    const existingItems = gallery.querySelectorAll('[data-image-id], [data-server-image]');
    existingItems.forEach(item => {
        gallery.removeChild(item);
    });

    // ä»æœåŠ¡å™¨è·å–å›¾ç‰‡
    fetch(`/aaaa/getImage?id=${button.id}`)
        .then(response => {
            if (!response.ok) {
                throw new Error('è·å–å›¾ç‰‡å¤±è´¥');
            }
            return response.json();
        })
        .then(images => {
            const appPath = images['applicationPath'].replace(/\\/g, '/');

            images.imageNames.forEach(image => {
                const imageId = `server-${image}`;
                createImageItem(gallery, appPath, image, imageId, true);
            });
        })
        .catch(error => {
            console.error('åŠ è½½å›¾ç‰‡å‡ºé”™:', error);
            alert('åŠ è½½å›¾ç‰‡å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•');
        });

    // ç¡®ä¿åªç»‘å®šä¸€æ¬¡æ–‡ä»¶ä¸Šä¼ ç›‘å¬å™¨
    const uploadInput = document.getElementById('image-upload');
    
    // å­˜å‚¨å½“å‰ button ID åˆ° DOM å…ƒç´ 
    uploadInput.dataset.currentButtonId = button.id;
    
    // ç§»é™¤ç°æœ‰ç›‘å¬å™¨ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
    if (uploadInput._currentHandler) {
        uploadInput.removeEventListener('change', uploadInput._currentHandler);
    }
    
    // åˆ›å»ºæ–°çš„ç›‘å¬å™¨å‡½æ•°
    function handleFileChange(e) {
        // ä» DOM å…ƒç´ è¯»å–å½“å‰ button IDï¼Œè€Œä¸æ˜¯é€šè¿‡é—­åŒ…
        const currentButtonId = e.target.dataset.currentButtonId;
        const files = e.target.files;
        if (!files.length) return;

        for (let i = 0; i < files.length; i++) {
            const file = files[i];
            
            // æ–‡ä»¶ç±»å‹éªŒè¯
            if (!file.type.startsWith('image/')) {
                alert('è¯·é€‰æ‹©å›¾ç‰‡æ–‡ä»¶');
                continue;
            }
            
            // æ–‡ä»¶å¤§å°éªŒè¯ (10MBé™åˆ¶)
            if (file.size > 10 * 1024 * 1024) {
                alert('å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡10MB');
                continue;
            }
            
            const imageId = `${currentButtonId}-${Date.now()}-${file.name}`;

            const reader = new FileReader();
            reader.onload = function(event) {
                const imgUrl = event.target.result;
                const item = createImageItem(gallery, '', file.name, imageId, false, imgUrl);

                // ä¸Šä¼ å›¾ç‰‡åˆ°æœåŠ¡å™¨
                uploadImage(file, imageId, item)
                    .then(() => {
                        console.log('å›¾ç‰‡ä¸Šä¼ æˆåŠŸ:', imageId);
                    })
                    .catch(error => {
                        console.error('å›¾ç‰‡ä¸Šä¼ å¤±è´¥:', error);
                        alert('å›¾ç‰‡ä¸Šä¼ å¤±è´¥ï¼Œè¯·é‡è¯•');
                    });
            };
            reader.readAsDataURL(file);
        }

        // æ¸…ç©ºè¾“å…¥ï¼Œå…è®¸é‡å¤é€‰æ‹©åŒä¸€æ–‡ä»¶
        this.value = '';
    }
    
    // ä¿å­˜å½“å‰ç›‘å¬å™¨å¼•ç”¨
    uploadInput._currentHandler = handleFileChange;
    uploadInput.addEventListener('change', handleFileChange);
    uploadInput._listenerAttached = true;

    // æ˜¾ç¤ºç¼–è¾‘åŒºåŸŸ
    document.getElementById('edi').style.display = 'flex';
}    

    // åˆ›å»ºå›¾ç‰‡é¡¹çš„è¾…åŠ©å‡½æ•°
    function createImageItem(gallery, path, name, imageId, isServerImage, imgUrl = null) {
        const item = document.createElement('div');
        item.classList.add('relative', 'w-48', 'rounded-md', 'overflow-hidden', 'shadow-md', 'hover:shadow-lg', 'm-2');
        item.dataset.imageId = imageId;
        if (isServerImage) {
            item.dataset.serverImage = 'true';
        }

        const img = document.createElement('img');
        img.className = "class-img w-full h-48 object-cover";
        img.src = isServerImage ? `${path}/${name}` : imgUrl;
        img.style.width='100%';
        img.style.height='8%';
        item.appendChild(img);

        // åˆ é™¤æŒ‰é’®
        const deleteButton = document.createElement('button');
        deleteButton.innerHTML = '<i class="fa-solid fa-trash"></i>';
        deleteButton.className = "class-but1 absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors";
        deleteButton.addEventListener('click', function() {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™å¼ å›¾ç‰‡å—ï¼Ÿ')) {
                deleteImage(imageId, item, isServerImage,name);
            }
        });
        item.appendChild(deleteButton);

        // ä¸‹è½½æŒ‰é’®
        const downloadButton = document.createElement('button');
        downloadButton.innerHTML = '<i class="fa-solid fa-download"></i>';
        downloadButton.className = "absolute top-2 left-2 bg-blue-500 text-white p-1 rounded-full hover:bg-blue-600 transition-colors";
        downloadButton.addEventListener('click', function() {
            downloadImage(img.src, name);
        });
        item.appendChild(downloadButton);

        gallery.appendChild(item);
        return item;
    }

    // ä¸Šä¼ å›¾ç‰‡åˆ°æœåŠ¡å™¨
    function uploadImage(file, imageId, item) {
        const formData = new FormData();
        formData.append('image', file);
        formData.append('imageId', imageId);

        fetch('/aaaa/uploadImage', {
            method: 'POST',
            body: formData
        })
            .then(response => {
                if (!response.ok) {
                    throw new Error('ä¸Šä¼ å¤±è´¥');
                }
                return response.text();
            })
            .then(result => {
                console.log('å›¾ç‰‡ä¸Šä¼ æˆåŠŸ:', result);
                // å¯ä»¥é€‰æ‹©æ›´æ–°å›¾ç‰‡IDä¸ºæœåŠ¡å™¨è¿”å›çš„ID
            })
            .catch(error => {
                console.error('ä¸Šä¼ å‡ºé”™:', error);
                alert('å›¾ç‰‡ä¸Šä¼ å¤±è´¥');
                // ä¸Šä¼ å¤±è´¥æ—¶ç§»é™¤é¢„è§ˆ
                if (item && item.parentNode) {
                    item.parentNode.removeChild(item);
                }
            });
    }

    // åˆ é™¤å›¾ç‰‡
    function deleteImage(imageId, item, isServerImage,name) {

        const endpoint = isServerImage
            ? `/aaaa/deleteImage/${imageId.replace('server-', '')}`
            : `/aaaa/deleteImage/${imageId}-${name}`;

        fetch(endpoint, {
            method: 'DELETE'
        })
            .then(response => {
                if (!response.ok) {
                    throw new Error('åˆ é™¤å¤±è´¥');
                }
                if (item.parentNode) {
                    item.parentNode.removeChild(item);
                }
                console.log('å›¾ç‰‡åˆ é™¤æˆåŠŸ');
            })
            .catch(error => {
                console.error('åˆ é™¤å‡ºé”™:', error);
                alert('å›¾ç‰‡åˆ é™¤å¤±è´¥');
            });
    }

    // ä¸‹è½½å›¾ç‰‡
    function downloadImage(url, filename) {
        const downloadLink = document.createElement('a');
        downloadLink.href = url;
        downloadLink.download = filename;

        // æ¨¡æ‹Ÿç‚¹å‡»ä¸‹è½½
        document.body.appendChild(downloadLink);
        downloadLink.click();
        document.body.removeChild(downloadLink);
    }


</script>
<!--<iframe src="/daohang.html" width="100%" ,height="15%"> </iframe> -->
</html>
